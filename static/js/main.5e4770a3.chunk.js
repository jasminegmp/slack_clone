(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,a,t){e.exports=t(334)},196:function(e,a,t){},205:function(e,a,t){"use strict";t.r(a);a.default={apiKey:"AIzaSyC6eaATGVvdB4lrWGKRnVrMaAkoqSSh0t8",authDomain:"slack-clone-c87e6.firebaseapp.com",databaseURL:"https://slack-clone-c87e6.firebaseio.com",projectId:"slack-clone-c87e6",storageBucket:"slack-clone-c87e6.appspot.com",messagingSenderId:"681566378181",appId:"1:681566378181:web:c578bcd626b59a4a"}},334:function(e,a,t){"use strict";t.r(a);var n=t(52),r=t(53),o=t(57),l=t(54),i=t(58),s=t(0),c=t.n(s),u=t(33),d=t.n(u);t(196);var m=function(){return c.a.createElement("div",{className:"App"},"Hi")},p=t(85),h=t(347),g=t(346),f=t(61),E=t(342),b=t(345),v=t(344),w=t(343),y=t(56),C=t(108),k=t.n(C),S=(t(199),t(201),t(335),t(205).default),j={apiKey:S.apiKey,authDomain:S.authDomain,databaseURL:S.databaseURL,projectId:S.projectId,storageBucket:S.storageBucket,messagingSenderId:S.messagingSenderId,appId:S.appId};k.a.initializeApp(j);var A=k.a,I=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(i)))).state={email:"",password:"",error:"",loading:!1},t.displayError=function(e){return c.a.createElement("p",null,e.message)},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.isFormValid(t.state)&&(t.setState({error:"",loading:!0}),A.auth().signInWithEmailAndPassword(t.state.email,t.state.password).then(function(e){console.log("logged in: ",e)}).catch(function(e){t.setState({error:e,loading:!1})}))},t.isFormValid=function(e){var a=e.email,t=e.password;return a&&t},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.error,r=e.loading;return c.a.createElement(h.a,{textAlign:"center",verticalAlign:"middle",className:"app"},c.a.createElement(h.a.Column,{style:{maxWidth:450}},c.a.createElement(g.a,{as:"h2",icon:!0,color:"pink",textAlign:"center"},c.a.createElement(f.a,{name:"talk",color:"pink"}),"Login to  GumpChat"),c.a.createElement(E.a,{onSubmit:this.handleSubmit,size:"large"},c.a.createElement(b.a,{stacked:!0},c.a.createElement(E.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email Address",onChange:this.handleChange,type:"email",value:a}),c.a.createElement(E.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:this.handleChange,type:"password",value:t}),c.a.createElement(v.a,{className:r?"loading":"",disabled:r,color:"pink",fluid:!0,size:"large"},"Submit"))),n&&c.a.createElement(w.a,{error:!0},c.a.createElement("h3",null,"Error"),this.displayError(n)),c.a.createElement(w.a,null,"Don't have an account?",c.a.createElement(y.b,{to:"/register"}," Register"))))}}]),a}(c.a.Component),O=t(176),P=t.n(O),R=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(i)))).state={username:"",email:"",password:"",passwordConfirmation:"",error:"",loading:!1,usersRef:A.database().ref("users")},t.isFormValid=function(){if(t.isFormEmpty(t.state)){return t.setState({error:{message:"Fill in all fields"}}),!1}if(t.isPasswordValid(t.state))return!0;return t.setState({error:{message:"Password Invalid"}}),!1},t.isFormEmpty=function(e){var a=e.username,t=e.email,n=e.password,r=e.passwordConfirmation;return!a.length||!t.length||!n.length||!r.length},t.isPasswordValid=function(e){var a=e.password,t=e.passwordConfirmation;return!(a.length<6||t.length<6)&&a===t},t.displayError=function(e){return c.a.createElement("p",null,e.message)},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.isFormValid(t.state)&&(t.setState({error:"",loading:!0}),A.auth().createUserWithEmailAndPassword(t.state.email,t.state.password).then(function(e){console.log(e);var a=P()(e.user.email);e.user.updateProfile({displayName:t.state.username,photoURL:"http://gravatar.com/avatar/".concat(a,"?d=identicon")}).then(function(){t.saveUser(e).then(function(){console.log("User saved.")}),t.setState({loading:!1})}).catch(function(e){console.error(e),t.setState({error:e,loading:!1})})}).catch(function(e){console.error(e),t.setState({error:e,loading:!1})}))},t.saveUser=function(e){return t.state.usersRef.child(e.user.uid).set({name:e.user.displayName,avatar:e.user.photoURL})},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.state,a=e.username,t=e.email,n=e.password,r=e.passwordConfirmation,o=e.error,l=e.loading;return c.a.createElement(h.a,{textAlign:"center",verticalAlign:"middle",className:"app"},c.a.createElement(h.a.Column,{style:{maxWidth:450}},c.a.createElement(g.a,{as:"h2",icon:!0,color:"blue",textAlign:"center"},c.a.createElement(f.a,{name:"talk",color:"blue"}),"Register for GumpChat"),c.a.createElement(E.a,{onSubmit:this.handleSubmit,size:"large"},c.a.createElement(b.a,{stacked:!0},c.a.createElement(E.a.Input,{fluid:!0,name:"username",icon:"user",iconPosition:"left",placeholder:"Username",onChange:this.handleChange,type:"text",value:a}),c.a.createElement(E.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email Address",onChange:this.handleChange,type:"email",value:t}),c.a.createElement(E.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:this.handleChange,type:"password",value:n}),c.a.createElement(E.a.Input,{fluid:!0,name:"passwordConfirmation",icon:"lock",iconPosition:"left",placeholder:"Password Confirmation",onChange:this.handleChange,type:"password",value:r}),c.a.createElement(v.a,{className:l?"loading":"",disabled:l,color:"blue",fluid:!0,size:"large"},"Submit"))),o&&c.a.createElement(w.a,{error:!0},c.a.createElement("h3",null,"Error"),this.displayError(o)),c.a.createElement(w.a,null,"Already a user? ",c.a.createElement(y.b,{to:"/login"},"Login"))))}}]),a}(c.a.Component),U=t(28),x=(t(330),t(333),t(332),function(e){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(i.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.auth().onAuthStateChanged(function(a){a&&e.props.history.push("/")})}},{key:"render",value:function(){return c.a.createElement(U.c,null,c.a.createElement(U.a,{exact:!0,path:"".concat("/slack_clone","/"),component:m}),c.a.createElement(U.a,{path:"".concat("/slack_clone","/login"),component:I}),c.a.createElement(U.a,{path:"".concat("/slack_clone","/register"),component:R}))}}]),a}(c.a.Component)),V=Object(U.f)(x);d.a.render(c.a.createElement(y.a,null,c.a.createElement(V,null)),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.5e4770a3.chunk.js.map